# 04. 音声入力の活用

## この章で学ぶこと

音声入力を活用することで、Claude Codeとのコミュニケーションを劇的に効率化できます。この章では、推奨ツール（Superwhisper、WispFlow）の紹介、音声入力のメリット、実践的な使い方を学びます。

## なぜ音声入力なのか？

### タイピング vs 音声入力の比較

| 項目 | タイピング | 音声入力 |
|-----|----------|---------|
| 速度 | 40-60語/分 | 150-200語/分 |
| 情報量 | 簡潔になりがち | 背景・理由を自然に含む |
| 認知負荷 | キーボード操作を考える | 問題解決に集中できる |
| 手の疲労 | あり | なし |

### 具体例で比較

**タイピングでの指示**:
```
バグ修正
```

**音声入力での指示**:
```
2ページ目でユーザーデータが表示されないバグがあります。
おそらくページネーションの実装に問題があると思います。
1ページ目は正常に動作しているので、
ページ番号の計算部分を重点的に確認してください。
```

**結果**: Claude Codeはより正確な解決策を提示できます。

## 推奨ツール

### 1. Superwhisper（最推奨）

#### 特徴

- **高精度な文字起こし**
- **LLM統合による後処理**
  - 日本語を英語に翻訳可能
  - フィラー（「えー」「あの」）を自動削除
  - 読みやすい文章に整形
- **カスタマイズ可能**

#### 設定例

Superwhisperの設定画面で、以下のようなプロンプトを設定できます:

```
以下の音声文字起こしを、Claude Codeへの指示として最適化してください:

1. 日本語で入力された内容を英語にも翻訳
2. フィラーを削除
3. 要点を箇条書きで整理
4. 技術用語は正確に

[音声文字起こし]
```

#### 実際の使用例

**音声入力**:
```
えーと、ユーザープロフィール画面でですね、
画像のアップロードができるようにしたいんですけど、
あの、サイズは5メガバイト以下に制限して、
JPEGとPNGだけ対応すればいいと思います。
```

**Superwhisper処理後**:
```
【日本語】
ユーザープロフィール画面で画像のアップロードができるようにしたいです。
サイズは5MB以下に制限して、JPEGとPNGのみ対応してください。

【English】
I want to enable image uploads on the user profile screen.
Please limit the size to 5MB or less and support only JPEG and PNG formats.
```

#### 推奨の使い方

**日本語・英語両方をClaude Codeに渡す**:

```bash
> 【日本語】
  ユーザープロフィール画面で画像のアップロードができるようにしたいです。
  サイズは5MB以下に制限して、JPEGとPNGのみ対応してください。

  【English】
  I want to enable image uploads on the user profile screen.
  Please limit the size to 5MB or less and support only JPEG and PNG formats.
```

**メリット**:
- 日本語で意図を正確に伝えられる
- 英語でも指示を理解してもらえる
- Claude Codeは多言語を理解できる

### 2. WispFlow

#### 特徴

- **高精度な日本語文字起こし**
- **フィラー自動削除**
- **読みやすい日本語に整形**
- **無料プランあり**

#### 設定

特別な設定は不要。起動してすぐ使えます。

#### 実際の使用例

**音声入力**:
```
えーと、あの、ログイン機能なんですけど、
パスワードの検証ロジックに、あのー、
バグがあるみたいで、えー、
8文字未満でも通ってしまうんですよね。
```

**WispFlow処理後**:
```
ログイン機能のパスワード検証ロジックにバグがあるみたいです。
8文字未満でも通ってしまいます。
```

### 3. Mac標準の音声認識

#### 特徴

- **追加インストール不要**
- **基本的な文字起こし**
- **無料**

#### 制限事項

- **単一アプリでの利用を前提**
  - FigmaとVS Codeを同時に使う開発では使いづらい
- **後処理機能がない**
- **フィラーは残る**

#### 使用方法

1. システム環境設定 > キーボード > 音声入力
2. ショートカットキーで起動（通常はFnキー2回）

## 音声入力の実践テクニック

### テクニック1: 構造化された指示

音声でも構造を意識して話します。

**良い例**:
```
ユーザー認証機能を実装してください。

要件は以下の3つです。
1つ目、メールアドレスとパスワードでログイン。
2つ目、JWTトークンを使用。
3つ目、セッション有効期限は24時間。

技術スタックは、Next.js、TypeScript、Prismaです。
```

**悪い例**:
```
えーと、ユーザー認証を作りたいんですけど、
メールとパスワードで、あと、JWTも使って、
あ、有効期限も設定しないとですね...
```

### テクニック2: 技術用語は明確に

技術用語は、ゆっくりはっきりと発音します。

```
「リアクト」（React）
「タイプスクリプト」（TypeScript）
「ネクスト・ジェイエス」（Next.js）
「ジェイダブリューティー」（JWT）
```

### テクニック3: 箇条書きを活用

複雑な要件は箇条書きで整理します。

```
以下の3つの機能を実装してください。

1つ目、ユーザー登録。
メールアドレス、パスワード、名前を入力。
バリデーションはZodを使用。

2つ目、ログイン。
メールアドレスとパスワードで認証。
失敗時は適切なエラーメッセージを表示。

3つ目、パスワードリセット。
メールでリセットリンクを送信。
リンクの有効期限は1時間。
```

### テクニック4: コードの説明

既存のコードを参照しながら指示します。

```
src/components/UserProfile.tsx を確認してください。

このコンポーネントに、プロフィール画像のアップロード機能を追加したいです。

現在の実装を維持しながら、以下を追加してください。
画像プレビュー、アップロードボタン、進捗表示。
```

## 開発フローでの音声入力活用

### シーン1: 朝の作業開始

```
【音声】
おはようございます。今日は以下の3つのタスクに取り組みます。

1つ目、Issue #45のバグ修正。
ユーザー一覧ページのページネーション。

2つ目、プロフィール編集機能の実装。

3つ目、E2Eテストの追加。

まず、Issue #45から始めたいので、
関連ファイルを確認してください。
```

### シーン2: コードレビュー対応

```
【音声】
Pull Request #123 のレビューコメントに対応します。

1つ目のコメント、「エラーハンドリングが不足」について。
try-catchを追加して、適切なエラーメッセージを表示します。

2つ目のコメント、「型定義が曖昧」について。
User型を使用して、厳密に型付けします。

では、1つ目から修正を始めてください。
```

### シーン3: バグ調査

```
【音声】
2ページ目でユーザーデータが表示されないバグを調査します。

現象は以下の通りです。
1ページ目は正常に表示される。
2ページ目に移動すると、データが空になる。
3ページ目以降も同様。

疑わしい箇所は、ページネーションのオフセット計算です。
src/hooks/useUsers.ts の実装を確認してください。

特に、offset と limit の計算部分を重点的に。
```

### シーン4: 新機能の実装

```
【音声】
通知機能を実装します。

要件は以下の通りです。

リアルタイム通知。WebSocketを使用。
通知の種類は3つ。いいね、コメント、フォロー。
未読バッジの表示。
通知一覧ページ。
既読・未読の管理。

まず、Plan Modeで実装計画を立ててください。
```

### シーン5: リファクタリング

```
【音声】
src/components/UserList.tsx をリファクタリングします。

現在の問題点は以下です。
コンポーネントが200行を超えている。
複数の責務が混在している。
テストが書きにくい。

以下のようにリファクタリングしてください。
UserList、UserListItem、UserListFilter の3つに分割。
カスタムフックでロジックを分離。
各コンポーネントは100行以内。
```

## 音声入力とVS Code/Cursorの並行利用

### セットアップ

```
画面レイアウト:
┌──────────────────┬──────────────────┐
│                  │                  │
│  VS Code/Cursor  │  ターミナル      │
│  (エディタ)      │  (Claude Code)   │
│                  │                  │
│  ファイルを見る  │  音声で指示      │
│                  │                  │
└──────────────────┴──────────────────┘
```

### ワークフロー

1. **VS Codeでファイルを開く**
2. **問題箇所を特定**
3. **音声で指示を出す**
```
【音声】
今開いている UserProfile.tsx の42行目、
useEffectの依存配列が不足しています。
user.id を追加してください。
```

4. **リアルタイムで変更を確認**
5. **必要に応じて修正を依頼**

## 音声入力のベストプラクティス

### DO: すべきこと

1. **はっきりと発音**
   - 技術用語は特に明確に
   - 早口にならない

2. **構造化して話す**
   - 箇条書きを活用
   - 要件を明確に

3. **コンテキストを提供**
   - 「なぜ」を説明
   - 背景情報を含める

4. **ファイルパスは文字で確認**
   - 音声入力後に確認
   - 必要に応じて修正

### DON'T: すべきでないこと

1. **早口で話さない**
   - 認識精度が下がる
   - 情報が漏れる

2. **フィラーを多用しない**
   - Superwhisperなら自動削除
   - 標準ツールなら意識的に避ける

3. **一度に詰め込みすぎない**
   - 適度に区切る
   - 複雑な内容は分割

4. **周囲の雑音に注意**
   - 静かな環境で使用
   - マイクの品質も重要

## トラブルシューティング

### 問題1: 技術用語が正しく認識されない

**解決策**:
- ゆっくり明確に発音
- アルファベットで発音（例: J-W-T）
- Superwhisperのカスタム辞書に登録

### 問題2: ファイルパスが間違って認識される

**解決策**:
- 音声入力後に確認
- 必要に応じて手動で修正
- 短いパスを使う（相対パス）

### 問題3: 長い指示が認識されない

**解決策**:
- 適切な長さで区切る
- 箇条書きにする
- 複数回に分けて指示

## まとめ

### 音声入力の価値

1. **速度**: タイピングの2-3倍
2. **情報量**: 背景・理由を自然に含む
3. **集中力**: キーボード操作を考えずに済む
4. **疲労軽減**: 手の負担が減る

### 推奨ツール

| ツール | 推奨度 | 特徴 |
|-------|-------|-----|
| Superwhisper | ⭐⭐⭐⭐⭐ | LLM統合、多機能 |
| WispFlow | ⭐⭐⭐⭐ | 日本語特化、無料 |
| Mac音声認識 | ⭐⭐⭐ | 標準搭載、基本機能 |

### ベストプラクティス

1. **構造化して話す**
2. **技術用語は明確に**
3. **はっきりと発音**
4. **適切な長さで区切る**
5. **音声入力後に確認**

### 次のステップ

次の章では、VS CodeやCursorとの連携をさらに深く学びます。拡張機能の活用、ショートカットキー、効率的な画面配置など、実践的なテクニックを習得します。
