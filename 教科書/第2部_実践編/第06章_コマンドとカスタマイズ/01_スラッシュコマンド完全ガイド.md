# 01. スラッシュコマンド完全ガイド

## この章で学ぶこと

Claude Codeの組み込みスラッシュコマンドを完全にマスターします。各コマンドの詳細な機能、使用例、実践的な活用方法を学びます。

## スラッシュコマンドとは？

スラッシュコマンドは、`/`で始まる特別なコマンドで、Claude Codeの動作を制御したり、特定の機能を実行したりできます。

### コマンド一覧の確認

```bash
> /help
```

すべての利用可能なコマンドが表示されます。

## セッション管理コマンド

### /clear - 会話履歴のクリア

**機能**: 会話履歴を完全にリセット

**使用方法**:
```bash
> /clear
```

**使用タイミング**:
- 全く別のタスクに移る時
- エラーが続いて混乱した時
- 新しい視点で再開したい時

**実践例**:
```bash
# ユーザー認証機能の実装が完了
> /clear

# 全く別の検索機能の実装を開始
> 検索機能を実装してください
  [新しい要件]
```

**保持されるもの**:
- CLAUDE.md の内容
- settings.json の設定
- カスタムコマンド

**リセットされるもの**:
- 会話履歴
- 読み込んだファイルの内容
- 実行結果
- 中間的な決定事項

### /compact - 会話の圧縮

**機能**: 会話を要約してトークンを節約

**使用方法**:
```bash
> /compact

# 特定の内容を保持
> /compact [保持したい内容の説明]
```

**使用タイミング**:
- 長時間の作業後
- 関連タスクに移る時
- トークンが多く消費された時

**実践例**:
```bash
# 2時間の実装作業後
> /compact 認証機能の実装内容を保持

# 関連する次のタスク
> ダッシュボード機能を実装します（認証が必要）
```

### /continue - 前回のセッションを継続

**機能**: 直近のセッションを再開

**使用方法**:
```bash
# CLIからClaude Codeを起動時
claude --continue
```

**使用タイミング**:
- 作業を中断して再開する時
- 前回の会話を引き継ぎたい時

### /resume - 過去のセッションを選択

**機能**: 過去のセッションから選択して再開

**使用方法**:
```bash
# CLIからClaude Codeを起動時
claude --resume
```

表示されたセッション一覧から選択します。

## プロジェクト管理コマンド

### /init - CLAUDE.mdの生成/更新

**機能**: プロジェクトを分析してCLAUDE.mdを自動生成

**使用方法**:
```bash
> /init
```

**使用タイミング**:
- プロジェクト開始時
- 大きな機能追加後
- ディレクトリ構造の変更後

**実践例**:
```bash
# 新規プロジェクト
> /init

# 生成されたCLAUDE.mdを確認
> CLAUDE.mdを表示してください

# 必要に応じて追記
> 以下のルールをCLAUDE.mdに追加してください:
  - すべての関数にJSDocコメントを書く
  - TypeScript strict モード必須
```

**生成される内容**:
- プロジェクトの概要
- 技術スタック
- ディレクトリ構造
- 主要なコンポーネント
- コーディング規約

**注意点**:
- 何度実行しても上書きされる
- カスタマイズした内容は別ファイルに保存推奨

## 設定・情報確認コマンド

### /config - 設定の表示/変更

**機能**: 現在の設定を表示し、対話的に変更

**使用方法**:
```bash
> /config
```

**設定可能な項目**:
- テーマ（dark/light）
- エディタ統合
- 通知設定
- 使用モデル

**実践例**:
```bash
> /config
# 対話的に設定を変更
```

### /model - 使用モデルの切り替え

**機能**: AIモデルを切り替える

**使用方法**:
```bash
> /model
```

**選択可能なモデル**:

1. **Default（推奨）**
   - 使用量に応じて自動切り替え
   - 50%まで: Opus
   - 50%以降: Sonnet

2. **Opus**
   - 最高性能
   - 複雑な実装に適する
   - トークン消費が多い

3. **Sonnet**
   - バランス型
   - コスト効率が良い
   - 基本的な実装に十分

**使い分け**:
```bash
# 複雑な設計
> /model
# Opusを選択

# 使用制限に近づいたら
> /model
# Sonnetに切り替え
```

### /permissions - 権限設定の管理

**機能**: 実行権限を対話的に管理

**使用方法**:
```bash
> /permissions
```

**できること**:
- 許可リストの確認
- 拒否リストの確認
- 権限の追加/削除

**実践例**:
```bash
> /permissions
# 対話形式で権限を管理
# settings.jsonに反映される
```

### /doctor - 環境の診断

**機能**: Claude Code環境の健全性をチェック

**使用方法**:
```bash
> /doctor
```

**チェック項目**:
- Node.jsのバージョン
- 必要なパッケージ
- 環境変数
- ネットワーク接続
- 権限設定

**実践例**:
```bash
> /doctor

# 問題が見つかった場合
# 解決方法が提示される
```

## 情報確認コマンド

### /help - ヘルプ表示

**機能**: すべてのコマンドとその説明を表示

**使用方法**:
```bash
> /help
```

**表示内容**:
- 組み込みコマンド一覧
- カスタムコマンド一覧
- 各コマンドの簡単な説明

### /agents - サブエージェントの管理

**機能**: サブエージェントの管理

**使用方法**:
```bash
> /agents
```

**できること**:
- 既存のサブエージェントの一覧表示
- 新しいサブエージェントの作成
- サブエージェントの編集・削除
- 使用可能なツールの設定

**サブエージェントとは**:
- 特定のタスクに特化した独立したAIエージェント
- メインとは別のコンテキストで動作
- 詳細調査や並列作業に有効

**実践例**:
```bash
> /agents

# 新しいサブエージェントを作成
# 名前: security-reviewer
# 役割: セキュリティレビュー専門

# 使用方法
> このコードをサブエージェント（security-reviewer）で
  セキュリティレビューしてください
```

## Git連携コマンド

### /review - Pull Requestのレビュー

**機能**: Pull Requestをレビュー

**使用方法**:
```bash
> /review [PR番号またはURL]
```

**実践例**:
```bash
# PR番号で指定
> /review 123

# URLで指定
> /review https://github.com/user/repo/pull/123
```

**レビュー内容**:
- コードの品質
- セキュリティ
- パフォーマンス
- テストカバレッジ
- コーディング規約

**出力**:
- 問題点の指摘
- 改善提案
- Good parts（良い点）

## モード切り替えコマンド

### Plan Modeへの切り替え

**ショートカット**: `Shift + Tab × 2`

または

```bash
> /plan
```

**機能**: 実装せず、計画だけを立てるモード

**使用タイミング**:
- 大きな機能の実装前
- アーキテクチャの検討
- 複数の選択肢の比較

**実践例**:
```bash
# Plan Modeに切り替え
> /plan

# 計画立案
> ユーザー通知システムの実装計画を立ててください think

# 通常モードに戻る
Shift + Tab × 2
```

## その他の便利なコマンド

### /exit - セッション終了

**機能**: Claude Codeセッションを終了

**使用方法**:
```bash
> /exit
```

**使用タイミング**:
- 作業完了時
- セッションを切り替えたい時

### /mcp - MCPサーバーの管理

**機能**: Model Context Protocol (MCP) サーバーの管理

**使用方法**:
```bash
> /mcp
```

**できること**:
- MCPサーバーの一覧表示
- MCPサーバーの追加
- MCPサーバーの削除
- MCPサーバーの設定

**MCPとは**:
- Claude Codeの機能を拡張するプロトコル
- 外部ツールとの連携
- カスタムツールの追加

**実践例**:
```bash
# Figma MCPを追加
> /mcp
# URLを入力: [FigmaのMCP URL]

# 使用
> このFigmaデザインをコードに変換してください
```

## コマンドの組み合わせパターン

### パターン1: 機能実装の完全フロー

```bash
# 1. プロジェクト情報を更新
> /init

# 2. Plan Modeで計画
Shift + Tab × 2
> ユーザープロフィール編集機能の実装計画を立ててください think

# 3. 通常モードで実装
Shift + Tab × 2
> 計画に基づいて実装してください

# 4. レビュー
> /review 123

# 5. コンテキストを圧縮
> /compact

# 6. 次のタスクへ
> 次はダッシュボード機能を実装します
```

### パターン2: デバッグセッション

```bash
# 1. 環境チェック
> /doctor

# 2. 問題の調査
> バグを調査してください
  [バグの説明]

# 3. 試行錯誤が続いた場合
> /clear

# 4. 新しい視点で再挑戦
> あらためて、このバグを解決してください
  [バグの説明を新しく整理]
```

### パターン3: 長時間開発セッション

```bash
# 9:00 - 開始
> /init

# 10:30 - 基本実装完了
> /compact 実装内容を保持

# 12:00 - ランチ休憩前
> /exit

# 13:00 - 午後の作業開始
claude --continue

# 15:00 - タスク切り替え
> /compact

# 17:00 - 終了
> /exit
```

## コマンド使用のベストプラクティス

### DO: すべきこと

1. **定期的な/compactの実行**
```bash
# 長時間作業の場合、1-2時間ごとに
> /compact
```

2. **タスク切り替え時の/clear**
```bash
# 全く別のタスクに移る時
> /clear
```

3. **プロジェクト変更後の/init**
```bash
# 大きな変更の後
> /init
```

4. **/doctorで定期チェック**
```bash
# 問題が起きたら
> /doctor
```

### DON'T: すべきでないこと

1. **/clearの乱用**
```bash
# ❌ 関連タスクでも/clearは避ける
# ✅ /compactを使う
```

2. **/initの過度な実行**
```bash
# ❌ 小さな変更で毎回/init
# ✅ 大きな変更のみ/init
```

3. **コマンドの連続実行**
```bash
# ❌ 意味なく連続実行
> /clear
> /compact
> /clear

# ✅ 必要な時に必要なコマンドのみ
```

## トラブルシューティング

### 問題1: コマンドが認識されない

**症状**: `/command` と入力しても動作しない

**原因**: タイプミス、または存在しないコマンド

**解決策**:
```bash
# コマンド一覧を確認
> /help
```

### 問題2: /clearしても設定が消える

**症状**: /clear後にCLAUDE.mdの内容が失われる

**原因**: 誤解（CLAUDE.mdは保持される）

**確認方法**:
```bash
> /clear
> CLAUDE.mdを表示してください
# 内容は保持されているはず
```

### 問題3: /initが期待通り動作しない

**症状**: 生成されるCLAUDE.mdが不完全

**原因**: プロジェクト構造が複雑、またはファイルが多すぎる

**解決策**:
```bash
# 手動で編集
> CLAUDE.mdを開いてください
# 必要な情報を追記
```

## まとめ

### 必須コマンド

| コマンド | 用途 | 頻度 |
|---------|------|------|
| /clear | タスク切り替え | 高 |
| /compact | トークン節約 | 高 |
| /init | プロジェクト開始 | 中 |
| /help | コマンド確認 | 低 |
| /model | モデル切り替え | 中 |

### コマンド使用のチェックリスト

- [ ] タスクが変わる時は/clear
- [ ] 長時間作業なら/compact
- [ ] プロジェクト開始時は/init
- [ ] コマンドがわからない時は/help
- [ ] 問題が起きたら/doctor

### 次のステップ

次の章では、カスタムコマンドの作成方法を学びます。よく使う作業を自動化し、開発効率をさらに向上させる方法を習得します。
